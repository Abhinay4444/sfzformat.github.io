# ------------------------------------------------------------------------------
# Headers
# ------------------------------------------------------------------------------
headers:
- name: "region"
  version: "SFZ v1"

- name: "group"
  version: "SFZ v1"

- name: "control"
  version: "SFZ v2"

- name: "global"
  version: "SFZ v2"

- name: "curve"
  version: "SFZ v2"

- name: "effect"
  version: "SFZ v2"

- name: "master"
  version: "ARIA"

- name: "midi"
  version: "ARIA"
# ------------------------------------------------------------------------------
# Opcodes
# ------------------------------------------------------------------------------
categories:
- name: "Real-Time Instrument Script"
  url: "http://doc.linuxsampler.org/Instrument_Scripts/"
  opcodes:
  - name: "script"
    version: "LinuxSampler"

- name: "Sound Source"
  url: "/opcodes/categories#sound-source"
  types:
  - name: "Sample Playback"
    opcodes:
    - name: "count"
      short_description: "The number of times the sample will be played"
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296

    - name: "delay_ccN"
      alias: "delay_onccN"
      short_description: "Region delay time after MIDI continuous controller N messages are received"
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 100
        unit: "seconds"

    - name: "delay"
      short_description: "Region delay time"
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 100
        unit: "seconds"
      modulation:
        midi_cc:
          name: "delay_ccN"

    - name: "delay_random"
      short_description: "Region random delay time"
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 100
        unit: "seconds"

    - name: "end"
      short_description: "The endpoint of the sample, in sample units."
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296
        unit: "sample units"

    - name: "loop_mode"
      alias:
      - name: "loopmode"
        version: "SFZ v2"
      short_description: "The endpoint of the sample"
      version: "SFZ v1"
      value:
        type_name: "string"
# TODO: Handle conditional expression?
        default: "no_loop for samples without a loop defined, loop_continuous for samples with defined loop(s)"
        options:
        - name: "no_loop"
          description: "no looping will be performed. Sample will play straight from start to end, or until note off, whatever reaches first."
        - name: "one_shot"
          description: "sample will play from start to end, ignoring note off. This is commonly used for drums. This mode is engaged automatically if the count opcode is defined."
        - name: "loop_continuous"
          description: "once the player reaches sample loop point, the loop will play until note expiration."
        - name: "loop_sustain"
          description: "the player will play the loop while the note is held, by keeping it depressed or by using the sustain pedal (CC64). The rest of the sample will play after note release."

    - name: "loop_start"
      alias:
      - name: "loopstart"
        version: "SFZ v2"
      short_description: "The loop start point"
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296

    - name: "loop_end"
      alias:
      - name: "loopend"
        version: "SFZ v2"
      short_description: "The loop end point"
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296

    - name: "offset"
      short_description: "The offset used to play the sample, in sample units."
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296
        unit: "sample units"

    - name: "offset_random"
      short_description: "Random offset added to the region offset, in sample units."
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296
        unit: "sample units"

    - name: "offset_ccN"
      alias: "offset_onccN"
      short_description: "The offset used to play the sample according to last position of MIDI continuous controller N, in sample units."
      version: "SFZ v1"
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296
        unit: "sample units"

    - name: "sample"
      short_description: "Defines which sample file the region will play"
      version: "SFZ v1"
      value:
        type_name: "string"

    - name: "sync_beats"
      short_description: "Region playing synchronization to host position."
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 32
        unit: "beats"

    - name: "sync_offset"
      short_description: "Region playing synchronization to host position offset."
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 32
        unit: "beats"

- name: "Instrument Settings"
  url: "/opcodes/categories#instrument-settings"
  opcodes:
  - name: "#define"
    version: "SFZ v2"
    type_name: "directive"

  - name: "#include"
    version: "ARIA"
    type_name: "directive"

  - name: "hint_"
    version: "ARIA"

  - name: "set_hdccN"
    version: "ARIA"

  - name: "sostenuto_lo"
    version: "ARIA"

  - name: "sostenuto_cc"
    version: "ARIA"

  - name: "sustain_lo"
    version: "ARIA"

  - name: "sustain_cc"
    version: "ARIA"

  - name: "sw_note_offset"
    version: "ARIA"

  - name: "sw_octave_offset"
    version: "ARIA"

  types:
  - name: "Voice Lifecycle"
    opcodes:
    - name: "group"
      version: "SFZ v1"
      alias:
      - name: "polyphony_group"
        version: "ARIA"

    - name: "off_by"
      version: "SFZ v1"
      short_description: "Region off group."
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 4294967296

    - name: "off_mode"
      version: "SFZ v1"
      short_description: "Region off mode."
      value:
        type_name: "string"
        default: "fast"
        options:
        - name: "fast"
          description: "The voice will be turned off immediately. Release settings will not have any effect."
        - name: "normal"
          description: "The region will be set into release stage. All envelope generators will enter in release stage, and region will expire when the amplifier envelope generator expired."

    - name: "output"
      version: "SFZ v1"
      short_description: "The stereo output number for this region."
      value:
        type_name: "integer"
        default: 0
        min: 0
        max: 1024

    - name: "off_curve"
      version: "ARIA"

    - name: "off_shape"
      version: "ARIA"

    - name: "off_time"
      version: "ARIA"

- name: "Region Logic"
  url: "/opcodes/categories#region-logic"
  types:
  - name: "Key Mapping"
  - name: "MIDI Conditions"
    opcodes:
    - name: "lohdccN"
      version: "ARIA"
      page: "lo_hihdccN"

    - name: "hihdccN"
      version: "ARIA"
      page: "lo_hihdccN"

    - name: "sw_default"
      version: "ARIA"
      page: "sw_default_label"

    - name: "sw_label"
      version: "ARIA"
      page: "sw_default_label"

    - name: "sw_lolast"
      version: "ARIA"
      page: "sw_lo_hilast"

    - name: "sw_hilast"
      version: "ARIA"
      page: "sw_lo_hilast"

    - name: "varNN_curveccX"
      version: "ARIA"

    - name: "varNN_mod"
      version: "ARIA"

    - name: "varNN_onccX"
      version: "ARIA"

    - name: "varNN_target"
      version: "ARIA"

  - name: "Internal Conditions"
  - name: "Triggers"

- name: "Performance Parameters"
  url: "/opcodes/categories#performance-parameters"
  types:
  - name: "Amplifier"
    opcodes:
    - name: "amplitude"
      version: "ARIA"

    - name: "amplitude_curveccN"
      version: "ARIA"

    - name: "amplitude_onccN"
      version: "ARIA"

    - name: "amplitude_smoothccN"
      version: "ARIA"

    - name: "global_amplitude"
      version: "ARIA"

    - name: "master_amplitude"
      version: "ARIA"

    - name: "group_amplitude"
      version: "ARIA"

    - name: "pan_law"
      version: "ARIA"

    - name: "global_volume"
      version: "ARIA"

    - name: "master_volume"
      version: "ARIA"

    - name: "group_volume"
      version: "ARIA"

    - name: "volume_onccN"
      version: "ARIA"

  - name: "EQ"
  - name: "Filter"
  - name: "Pitch"

- name: "Modulation"
  url: "/opcodes/categories#modulation"
  types:
  - name: "Envelope Generators"
    url: "/types/envelope_generators"
    targets:
    - name: "ampeg"
    - name: "fileg"
    - name: "pitcheg"
    opcodes:
    - name: "attack"
      version: "SFZ v1"
      value:
        type_name: "float"
        default: 0
        min: 0
        max: 100
        unit: "seconds"
      modulation:
        midi_cc:
          name: "attack_ccN"

    - name: "attack_ccN"
      alias:
      - name: "attack_onccN"
        version: "SFZ v2"
      type_name: "float"
      default: 0
      min: -100
      max: 100
      unit: "seconds"

  - name: "LFO"
    url: "/types/lfo"
    opcodes:
    - name: "lfoN_offset"
      version: "ARIA"

    - name: "lfoN_offset2"
      page: "lfoN_offset"
      version: "ARIA"

    - name: "lfoN_ratio"
      version: "ARIA"

    - name: "lfoN_ratio2"
      page: "lfoN_ratio"
      version: "ARIA"

    - name: "lfoN_scale"
      version: "ARIA"

    - name: "lfoN_scale2"
      page: "lfoN_scale"
      version: "ARIA"

    - name: "lfoN_wave2"
      version: "ARIA"

- name: "Curves"
  opcodes:
    - name: "curve_index"
      version: "ARIA"

- name: "Effects"
  opcodes:
  - name: "param_offset"
    version: "ARIA"

  - name: "vendor_specific"
    version: "ARIA"
